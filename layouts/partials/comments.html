{{- /* Comments using giscus */ -}}
{{- if and .Site.Params.giscus.enable (not .Params.disable_comments) -}}
<div id="comments" class="comments-area">
  {{- $lang := .Site.Params.giscus.lang -}}
  {{- if eq .Language.Lang "ja" -}}
  {{- $lang = "ja" -}}
  {{- else if eq .Language.Lang "en" -}}
  {{- $lang = "en" -}}
  {{- end -}}

  <script src="https://giscus.app/client.js" data-repo="{{ .Site.Params.giscus.repo }}"
    data-repo-id="{{ .Site.Params.giscus.repoId }}" data-category="{{ .Site.Params.giscus.category }}"
    data-category-id="{{ .Site.Params.giscus.categoryId }}" data-mapping="{{ .Site.Params.giscus.mapping }}"
    data-strict="0" data-reactions-enabled="{{ .Site.Params.giscus.reactionsEnabled }}"
    data-emit-metadata="{{ .Site.Params.giscus.emitMetadata }}"
    data-input-position="{{ .Site.Params.giscus.inputPosition }}" data-theme="{{ .Site.Params.giscus.theme }}"
    data-lang="{{ $lang }}" crossorigin="anonymous" async>
    </script>
</div>
{{- end -}}